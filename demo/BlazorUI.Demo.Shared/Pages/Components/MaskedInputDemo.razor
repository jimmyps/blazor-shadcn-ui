@page "/components/masked-input"
@using BlazorUI.Components.MaskedInput

<PageTitle>MaskedInput Component - BlazorUI</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">MaskedInput Component</h1>
            <p class="text-xl text-muted-foreground">
                Input with structured formats using preset masks or custom patterns.
            </p>
        </div>
    </div>

    <!-- Phone Number -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Phone Number</h2>
            <p class="text-sm text-muted-foreground">
                US phone format: (999) 999-9999
            </p>
        </div>
        <div class="w-64">
            <MaskedInput @bind-Value="_phone" Preset="MaskPreset.Phone" />
        </div>
        <p class="text-sm text-muted-foreground">
            Unmasked: @_phone | Masked: @(_phoneRef?.MaskedValue ?? "")
        </p>
    </div>

    <!-- Social Security Number -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Social Security Number</h2>
            <p class="text-sm text-muted-foreground">
                SSN format: 999-99-9999
            </p>
        </div>
        <div class="w-48">
            <MaskedInput @bind-Value="_ssn" Preset="MaskPreset.SSN" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_ssn</p>
    </div>

    <!-- Credit Card -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Credit Card</h2>
            <p class="text-sm text-muted-foreground">
                Card number format: 9999 9999 9999 9999
            </p>
        </div>
        <div class="w-72">
            <MaskedInput @bind-Value="_creditCard" Preset="MaskPreset.CreditCard" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_creditCard</p>
    </div>

    <!-- Date -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Date</h2>
            <p class="text-sm text-muted-foreground">
                Date format: MM/DD/YYYY
            </p>
        </div>
        <div class="w-40">
            <MaskedInput @bind-Value="_date" Preset="MaskPreset.Date" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_date</p>
    </div>

    <!-- Time -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Time</h2>
            <p class="text-sm text-muted-foreground">
                Time format: HH:MM
            </p>
        </div>
        <div class="w-32">
            <MaskedInput @bind-Value="_time" Preset="MaskPreset.Time" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_time</p>
    </div>

    <!-- Time with Seconds -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Time (24-hour with seconds)</h2>
            <p class="text-sm text-muted-foreground">
                Time format: HH:MM:SS
            </p>
        </div>
        <div class="w-36">
            <MaskedInput @bind-Value="_time24" Preset="MaskPreset.Time24" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_time24</p>
    </div>

    <!-- ZIP Code -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">ZIP Code</h2>
            <p class="text-sm text-muted-foreground">
                US ZIP+4 format: 99999-9999
            </p>
        </div>
        <div class="w-40">
            <MaskedInput @bind-Value="_zipCode" Preset="MaskPreset.ZipCode" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_zipCode</p>
    </div>

    <!-- EIN -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Employer ID (EIN)</h2>
            <p class="text-sm text-muted-foreground">
                EIN format: 99-9999999
            </p>
        </div>
        <div class="w-40">
            <MaskedInput @bind-Value="_ein" Preset="MaskPreset.EIN" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_ein</p>
    </div>

    <!-- Custom Mask -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Mask</h2>
            <p class="text-sm text-muted-foreground">
                Product code: AAA-9999 (3 letters, dash, 4 digits)
            </p>
        </div>
        <div class="w-40">
            <MaskedInput @bind-Value="_custom" Preset="MaskPreset.Custom" Mask="AAA-9999" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_custom</p>
    </div>

    <!-- License Plate -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">License Plate</h2>
            <p class="text-sm text-muted-foreground">
                Format: AAA-9999 or 999-AAA (alphanumeric with *)
            </p>
        </div>
        <div class="w-40">
            <MaskedInput @bind-Value="_plate" Preset="MaskPreset.Custom" Mask="***-****" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_plate</p>
    </div>

    <!-- Without Mask Display -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Without Mask Display</h2>
            <p class="text-sm text-muted-foreground">
                Mask placeholders are hidden when empty (shown on focus).
            </p>
        </div>
        <div class="w-64">
            <MaskedInput @bind-Value="_hiddenMask" Preset="MaskPreset.Phone" ShowMask="false" Placeholder="Enter phone number" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_hiddenMask</p>
    </div>

    <!-- Custom Placeholder Char -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Placeholder Character</h2>
            <p class="text-sm text-muted-foreground">
                Using '#' instead of '_' for unfilled positions.
            </p>
        </div>
        <div class="w-64">
            <MaskedInput @bind-Value="_customPlaceholder" Preset="MaskPreset.Phone" PlaceholderChar="@('#')" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_customPlaceholder</p>
    </div>

    <!-- Pre-filled Value -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Pre-filled Value</h2>
            <p class="text-sm text-muted-foreground">
                Initialized with a value.
            </p>
        </div>
        <div class="w-64">
            <MaskedInput @bind-Value="_prefilled" Preset="MaskPreset.Phone" />
        </div>
        <p class="text-sm text-muted-foreground">Unmasked: @_prefilled</p>
    </div>

    <!-- Disabled -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disabled</h2>
        </div>
        <div class="w-64">
            <MaskedInput Value="5551234567" Preset="MaskPreset.Phone" Disabled="true" />
        </div>
    </div>

    <!-- API Reference -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
        </div>
        <div class="border rounded-lg p-6 space-y-4">
            <div>
                <h3 class="font-mono text-sm font-semibold mb-2">MaskedInput Parameters</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>Value:</strong> <code class="bg-muted px-1 py-0.5 rounded">string</code> - Unmasked value (raw input)</p>
                    <p><strong>Preset:</strong> <code class="bg-muted px-1 py-0.5 rounded">MaskPreset</code> - Predefined mask (Phone, SSN, CreditCard, Date, Time, Time24, ZipCode, EIN, Custom)</p>
                    <p><strong>Mask:</strong> <code class="bg-muted px-1 py-0.5 rounded">string?</code> - Custom mask pattern (when Preset is Custom)</p>
                    <p><strong>PlaceholderChar:</strong> <code class="bg-muted px-1 py-0.5 rounded">char</code> - Character for unfilled positions. Default: '_'</p>
                    <p><strong>ShowMask:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Show mask when empty. Default: true</p>
                    <p><strong>Disabled:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Disables the input</p>
                </div>
            </div>
            <div>
                <h3 class="font-mono text-sm font-semibold mb-2">Mask Characters</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>9:</strong> Digit (0-9)</p>
                    <p><strong>A:</strong> Letter (a-z, A-Z)</p>
                    <p><strong>*:</strong> Alphanumeric (letter or digit)</p>
                    <p><strong>Any other character:</strong> Literal (displayed as-is)</p>
                </div>
            </div>
            <div>
                <h3 class="font-mono text-sm font-semibold mb-2">Properties</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>MaskedValue:</strong> <code class="bg-muted px-1 py-0.5 rounded">string</code> - The formatted value with mask</p>
                    <p><strong>UnmaskedValue:</strong> <code class="bg-muted px-1 py-0.5 rounded">string</code> - The raw value without formatting</p>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private string _phone = "";
    private string _ssn = "";
    private string _creditCard = "";
    private string _date = "";
    private string _time = "";
    private string _time24 = "";
    private string _zipCode = "";
    private string _ein = "";
    private string _custom = "";
    private string _plate = "";
    private string _hiddenMask = "";
    private string _customPlaceholder = "";
    private string _prefilled = "5551234567";

    private MaskedInput? _phoneRef;
}
