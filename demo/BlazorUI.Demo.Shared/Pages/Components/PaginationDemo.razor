@page "/components/pagination"
@using BlazorUI.Components.Pagination
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
=======
@using BlazorUI.Components.Separator
@using BlazorUI.Primitives.Table
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor

<PageTitle>Pagination Component - BlazorUI</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Pagination Component</h1>
            <p class="text-xl text-muted-foreground">
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
                Pagination with page navigation, built using the Pagination component.
=======
                Pagination with page navigation, previous and next controls, and optional state management.
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
            </p>
        </div>
    </div>

<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
    <!-- Basic Pagination -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic</h2>
            <p class="text-sm text-muted-foreground">
                A simple pagination component.
=======
    <!-- Basic Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Example</h2>
            <p class="text-sm text-muted-foreground">
                A simple pagination component with page numbers using manual state management.
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
            </p>
        </div>
        <Pagination>
            <PaginationContent>
                <PaginationItem>
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
                    <PaginationPrevious Href="#" />
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#">1</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#" IsActive="true">2</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#">3</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationNext Href="#" />
                </PaginationItem>
            </PaginationContent>
        </Pagination>
=======
                    <PaginationPrevious OnClick="@(() => GoToPage(_currentPage - 1))" Disabled="@(_currentPage <= 1)" />
                </PaginationItem>
                @for (int i = 1; i <= 5; i++)
                {
                    var page = i;
                    <PaginationItem>
                        <PaginationLink IsActive="@(_currentPage == page)" OnClick="@(() => GoToPage(page))">@(page)</PaginationLink>
                    </PaginationItem>
                }
                <PaginationItem>
                    <PaginationNext OnClick="@(() => GoToPage(_currentPage + 1))" Disabled="@(_currentPage >= 5)" />
                </PaginationItem>
            </PaginationContent>
        </Pagination>
        <p class="text-sm text-muted-foreground text-center">Current page: @_currentPage</p>
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
    </div>

    <!-- With Ellipsis -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Ellipsis</h2>
            <p class="text-sm text-muted-foreground">
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
                Use ellipsis to indicate additional pages.
=======
                Show ellipsis for large page ranges.
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
            </p>
        </div>
        <Pagination>
            <PaginationContent>
                <PaginationItem>
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
                    <PaginationPrevious Href="#" />
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#">1</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#" IsActive="true">2</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink Href="#">3</PaginationLink>
=======
                    <PaginationPrevious />
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink IsActive="true">1</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink>2</PaginationLink>
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
                </PaginationItem>
                <PaginationItem>
                    <PaginationEllipsis />
                </PaginationItem>
                <PaginationItem>
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
                    <PaginationLink Href="#">10</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationNext Href="#" />
=======
                    <PaginationLink>9</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationLink>10</PaginationLink>
                </PaginationItem>
                <PaginationItem>
                    <PaginationNext />
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
                </PaginationItem>
            </PaginationContent>
        </Pagination>
    </div>

<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
    <!-- Interactive Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Interactive</h2>
            <p class="text-sm text-muted-foreground">
                A functional pagination with state management.
            </p>
        </div>
        <div class="space-y-4">
            <div class="text-sm text-muted-foreground">
                Page @currentPage of @totalPages
            </div>
            <Pagination>
                <PaginationContent>
                    <PaginationItem>
                        <button @onclick="GoToPrevious" disabled="@(currentPage == 1)" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1 pl-2.5">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                                <path d="m15 18-6-6 6-6"/>
                            </svg>
                            <span>Previous</span>
                        </button>
                    </PaginationItem>
                    @for (int page = 1; page <= totalPages; page++)
                    {
                        var pageNum = page;
                        <PaginationItem>
                            <button @onclick="() => GoToPage(pageNum)" class="@GetPageClass(pageNum)">
                                @pageNum
                            </button>
                        </PaginationItem>
                    }
                    <PaginationItem>
                        <button @onclick="GoToNext" disabled="@(currentPage == totalPages)" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1 pr-2.5">
                            <span>Next</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                                <path d="m9 18 6-6-6-6"/>
                            </svg>
                        </button>
                    </PaginationItem>
                </PaginationContent>
            </Pagination>
        </div>
    </div>

    <!-- Accessibility -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Accessibility</h2>
            <p class="text-sm text-muted-foreground">
                The Pagination component uses semantic HTML with <code class="relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm">nav</code> and 
                <code class="relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm">aria-label</code> attributes for screen readers.
                Current page is indicated with <code class="relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm">aria-current="page"</code>.
            </p>
        </div>
=======
    <!-- State-Managed Pagination -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">State-Managed Pagination</h2>
            <p class="text-sm text-muted-foreground">
                Use <code class="bg-muted px-1 py-0.5 rounded">PaginationState</code> for automatic state management.
                Navigation buttons automatically enable/disable and update state.
            </p>
        </div>
        <Pagination State="@_paginationState"
                    OnPageChanged="HandlePageChanged"
                    Class="flex items-center justify-between">
            <PaginationInfo />
            <PaginationContent>
                <PaginationItem>
                    <PaginationFirst />
                </PaginationItem>
                <PaginationItem>
                    <PaginationPrevious ShowText="false" />
                </PaginationItem>
                <PaginationItem>
                    <PaginationPageDisplay />
                </PaginationItem>
                <PaginationItem>
                    <PaginationNext ShowText="false" />
                </PaginationItem>
                <PaginationItem>
                    <PaginationLast />
                </PaginationItem>
            </PaginationContent>
        </Pagination>
    </div>

    <!-- Full Table Pagination Style -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Table Pagination Style</h2>
            <p class="text-sm text-muted-foreground">
                Full-featured pagination with page size selector, ideal for data tables.
            </p>
        </div>
        <Pagination State="@_tablePaginationState"
                    PageSizes="@(new[] { 5, 10, 20, 50 })"
                    OnPageChanged="HandleTablePageChanged"
                    OnPageSizeChanged="HandleTablePageSizeChanged"
                    Class="flex items-center justify-between px-2 py-4 border rounded-lg">
            <PaginationInfo />
            <PaginationContent Class="flex items-center gap-6 lg:gap-8">
                <PaginationPageSizeSelector />
                <div class="flex items-center gap-2">
                    <PaginationPageDisplay />
                    <div class="flex items-center gap-1">
                        <PaginationItem><PaginationFirst /></PaginationItem>
                        <PaginationItem><PaginationPrevious ShowText="false" /></PaginationItem>
                        <PaginationItem><PaginationNext ShowText="false" /></PaginationItem>
                        <PaginationItem><PaginationLast /></PaginationItem>
                    </div>
                </div>
            </PaginationContent>
        </Pagination>
    </div>

    <!-- Customized Labels -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Customized Labels</h2>
            <p class="text-sm text-muted-foreground">
                Customize labels and formats for internationalization or different use cases.
            </p>
        </div>
        <Pagination State="@_customPaginationState"
                    Class="flex items-center justify-between px-2 py-4 border rounded-lg">
            <PaginationInfo Format="Items {0} to {1} (Total: {2})" EmptyText="No data available" />
            <PaginationContent Class="flex items-center gap-4">
                <PaginationPageSizeSelector Label="Items per page" ShowLabel="true" />
                <PaginationPageDisplay Format="{0} / {1}" />
                <div class="flex items-center gap-1">
                    <PaginationItem><PaginationFirst /></PaginationItem>
                    <PaginationItem><PaginationPrevious ShowText="false" /></PaginationItem>
                    <PaginationItem><PaginationNext ShowText="false" /></PaginationItem>
                    <PaginationItem><PaginationLast /></PaginationItem>
                </div>
            </PaginationContent>
        </Pagination>
    </div>

    <!-- API Reference -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
        </div>
        <div class="border rounded-lg p-6 space-y-4">
            <div>
                <h3 class="font-semibold mb-2">Core Components</h3>
                <div class="space-y-2 text-sm">
                    <p><code class="bg-muted px-1 py-0.5 rounded">Pagination</code> - Container with optional State for automatic management</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationContent</code> - List container</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationItem</code> - Individual item wrapper</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationLink</code> - Page number link</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationEllipsis</code> - Ellipsis indicator</p>
                </div>
            </div>
            <Separator />
            <div>
                <h3 class="font-semibold mb-2">Navigation Components</h3>
                <div class="space-y-2 text-sm">
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationFirst</code> - First page button (auto-disables at start)</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationPrevious</code> - Previous page button (ShowText, Text parameters)</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationNext</code> - Next page button (ShowText, Text parameters)</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationLast</code> - Last page button (auto-disables at end)</p>
                </div>
            </div>
            <Separator />
            <div>
                <h3 class="font-semibold mb-2">Info Components</h3>
                <div class="space-y-2 text-sm">
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationInfo</code> - Shows "Showing X-Y of Z" (Format, EmptyText parameters)</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationPageDisplay</code> - Shows "Page X of Y" (Format parameter)</p>
                    <p><code class="bg-muted px-1 py-0.5 rounded">PaginationPageSizeSelector</code> - Page size dropdown (Label, ShowLabel, PageSizes parameters)</p>
                </div>
            </div>
            <Separator />
            <div>
                <h3 class="font-semibold mb-2">Pagination Parameters</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>State:</strong> <code class="bg-muted px-1 py-0.5 rounded">PaginationState?</code> - Optional state for automatic management</p>
                    <p><strong>PageSizes:</strong> <code class="bg-muted px-1 py-0.5 rounded">int[]</code> - Available page size options (default: 10, 20, 50, 100)</p>
                    <p><strong>OnPageChanged:</strong> <code class="bg-muted px-1 py-0.5 rounded">EventCallback&lt;int&gt;</code> - Callback when page changes</p>
                    <p><strong>OnPageSizeChanged:</strong> <code class="bg-muted px-1 py-0.5 rounded">EventCallback&lt;int&gt;</code> - Callback when page size changes</p>
                </div>
            </div>
        </div>
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
    </div>
</div>

@code {
<<<<<<< HEAD:demo/BlazorUI.Demo.Shared/Pages/Components/PaginationDemo.razor
    private int currentPage = 1;
    private int totalPages = 5;

    private void GoToPrevious()
    {
        if (currentPage > 1)
        {
            currentPage--;
        }
    }

    private void GoToNext()
    {
        if (currentPage < totalPages)
        {
            currentPage++;
        }
    }

    private void GoToPage(int page)
    {
        currentPage = page;
    }

    private string GetPageClass(int page)
    {
        var baseClass = "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2";
        return currentPage == page
            ? baseClass + " border border-input bg-background shadow-sm"
            : baseClass;
=======
    private int _currentPage = 1;

    // State-managed pagination
    private PaginationState _paginationState = new()
    {
        CurrentPage = 1,
        PageSize = 10,
        TotalItems = 100
    };

    // Table-style pagination
    private PaginationState _tablePaginationState = new()
    {
        CurrentPage = 1,
        PageSize = 10,
        TotalItems = 253
    };

    // Custom labels pagination
    private PaginationState _customPaginationState = new()
    {
        CurrentPage = 1,
        PageSize = 20,
        TotalItems = 500
    };

    private void GoToPage(int page)
    {
        if (page >= 1 && page <= 5)
        {
            _currentPage = page;
        }
    }

    private void HandlePageChanged(int page)
    {
        // State is already updated automatically
        StateHasChanged();
    }

    private void HandleTablePageChanged(int page)
    {
        StateHasChanged();
    }

    private void HandleTablePageSizeChanged(int pageSize)
    {
        StateHasChanged();
>>>>>>> 8835bfed9859e4bf8349954ac05f732fe9ffddcf:demo/BlazorUI.Demo/Pages/Components/PaginationDemo.razor
    }
}
