@page "/components/sheet"
@using BlazorBlueprint.Components.Sheet

<PageTitle>Sheet Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Sheet Component</h1>
        <p class="text-xl text-muted-foreground">
            Extends the Dialog component to display content that complements the main content of the screen.
        </p>
        </div>
    </div>

    <div class="space-y-6">
    </div>

    <!-- AsChild Pattern -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">AsChild Pattern</h2>
        <p class="text-sm text-muted-foreground">
            Use AsChild to compose triggers with your own styled Button components.
        </p>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Without AsChild -->
            <div class="space-y-3 p-4 border rounded-lg">
                <h3 class="text-lg font-medium">Without AsChild</h3>
                <p class="text-sm text-muted-foreground">
                    SheetTrigger renders its own button with inline classes.
                </p>
                <Sheet>
                    <SheetTrigger class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        Open Sheet
                    </SheetTrigger>
                    <SheetContent>
                        <SheetHeader>
                            <SheetTitle>Without AsChild</SheetTitle>
                            <SheetDescription>Uses inline CSS classes on trigger.</SheetDescription>
                        </SheetHeader>
                    </SheetContent>
                </Sheet>
            </div>

            <!-- With AsChild -->
            <div class="space-y-3 p-4 border rounded-lg">
                <h3 class="text-lg font-medium">With AsChild</h3>
                <p class="text-sm text-muted-foreground">
                    Button receives trigger behavior via TriggerContext.
                </p>
                <Sheet>
                    <SheetTrigger AsChild>
                        <Button Variant="ButtonVariant.Outline">
                            <LucideIcon Name="menu" Size="16" />
                            Open Menu
                        </Button>
                    </SheetTrigger>
                    <SheetContent Side="BlazorBlueprint.Primitives.Sheet.SheetSide.Left">
                        <SheetHeader>
                            <SheetTitle>With AsChild</SheetTitle>
                            <SheetDescription>Button component styled trigger.</SheetDescription>
                        </SheetHeader>
                        <SheetFooter>
                            <SheetClose AsChild>
                                <Button Variant="ButtonVariant.Outline">Close</Button>
                            </SheetClose>
                        </SheetFooter>
                    </SheetContent>
                </Sheet>
            </div>
        </div>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Side: Right (Default)</h2>
        <p class="text-sm text-muted-foreground">
            A sheet that slides in from the right side of the screen.
        </p>

        <Sheet>
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open Sheet</Button>
            </SheetTrigger>

            <SheetContent>
                <SheetHeader>
                    <SheetTitle>Edit profile</SheetTitle>
                    <SheetDescription>
                        Make changes to your profile here. Click save when you're done.
                    </SheetDescription>
                </SheetHeader>

                <div class="grid gap-4 py-4">
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label for="name" class="text-right text-sm font-medium">
                            Name
                        </label>
                        <input id="name"
                               value="Pedro Duarte"
                               class="col-span-3 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" />
                    </div>
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label for="username" class="text-right text-sm font-medium">
                            Username
                        </label>
                        <input id="username"
                               value="@@peduarte"
                               class="col-span-3 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" />
                    </div>
                </div>

                <SheetFooter>
                    <Button>Save changes</Button>
                </SheetFooter>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Side: Top</h2>
        <p class="text-sm text-muted-foreground">
            A sheet that slides in from the top of the screen.
        </p>

        <Sheet Side="BlazorBlueprint.Primitives.Sheet.SheetSide.Top">
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open from Top</Button>
            </SheetTrigger>

            <SheetContent>
                <SheetHeader>
                    <SheetTitle>Notifications</SheetTitle>
                    <SheetDescription>
                        View your recent notifications and updates.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4 space-y-4">
                    <div class="flex items-start gap-4 pb-4 border-b">
                        <div class="w-2 h-2 mt-2 rounded-full bg-blue-500"></div>
                        <div class="flex-1">
                            <p class="text-sm font-medium">New message from John</p>
                            <p class="text-sm text-muted-foreground">2 minutes ago</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 pb-4 border-b">
                        <div class="w-2 h-2 mt-2 rounded-full bg-green-500"></div>
                        <div class="flex-1">
                            <p class="text-sm font-medium">Your deployment is complete</p>
                            <p class="text-sm text-muted-foreground">15 minutes ago</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="w-2 h-2 mt-2 rounded-full bg-gray-400"></div>
                        <div class="flex-1">
                            <p class="text-sm font-medium">System maintenance scheduled</p>
                            <p class="text-sm text-muted-foreground">1 hour ago</p>
                        </div>
                    </div>
                </div>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Side: Bottom</h2>
        <p class="text-sm text-muted-foreground">
            A sheet that slides in from the bottom of the screen.
        </p>

        <Sheet Side="BlazorBlueprint.Primitives.Sheet.SheetSide.Bottom">
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open from Bottom</Button>
            </SheetTrigger>

            <SheetContent>
                <SheetHeader>
                    <SheetTitle>Cookie Settings</SheetTitle>
                    <SheetDescription>
                        Manage your cookie preferences.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4 space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="space-y-0.5">
                            <label class="text-sm font-medium">Strictly Necessary</label>
                            <p class="text-xs text-muted-foreground">
                                These cookies are essential for the website to function.
                            </p>
                        </div>
                        <input type="checkbox" checked disabled class="h-4 w-4" />
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="space-y-0.5">
                            <label class="text-sm font-medium">Functional Cookies</label>
                            <p class="text-xs text-muted-foreground">
                                These cookies enable enhanced functionality.
                            </p>
                        </div>
                        <input type="checkbox" class="h-4 w-4" />
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="space-y-0.5">
                            <label class="text-sm font-medium">Performance Cookies</label>
                            <p class="text-xs text-muted-foreground">
                                These cookies help improve performance.
                            </p>
                        </div>
                        <input type="checkbox" class="h-4 w-4" />
                    </div>
                </div>

                <SheetFooter>
                    <Button>Save Preferences</Button>
                </SheetFooter>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Side: Left</h2>
        <p class="text-sm text-muted-foreground">
            A sheet that slides in from the left side of the screen.
        </p>

        <Sheet Side="BlazorBlueprint.Primitives.Sheet.SheetSide.Left">
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open from Left</Button>
            </SheetTrigger>

            <SheetContent>
                <SheetHeader>
                    <SheetTitle>Navigation Menu</SheetTitle>
                    <SheetDescription>
                        Browse through the application sections.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4 space-y-2">
                    <a href="#" class="block px-3 py-2 rounded-md hover:bg-accent text-sm font-medium">
                        Dashboard
                    </a>
                    <a href="#" class="block px-3 py-2 rounded-md hover:bg-accent text-sm font-medium">
                        Projects
                    </a>
                    <a href="#" class="block px-3 py-2 rounded-md hover:bg-accent text-sm font-medium">
                        Team
                    </a>
                    <a href="#" class="block px-3 py-2 rounded-md hover:bg-accent text-sm font-medium">
                        Settings
                    </a>
                    <div class="pt-2 border-t">
                        <a href="#" class="block px-3 py-2 rounded-md hover:bg-accent text-sm font-medium">
                            Help & Support
                        </a>
                    </div>
                </div>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Controlled Sheet</h2>
        <p class="text-sm text-muted-foreground">
            Control the sheet state programmatically using @@bind-Open.
        </p>

        <div class="flex gap-2">
            <button @onclick="() => isSheetOpen = true"
                    class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                Open Sheet
            </button>
        </div>

        <Sheet @bind-Open="isSheetOpen">
            <SheetContent>
                <SheetHeader>
                    <SheetTitle>Controlled Sheet</SheetTitle>
                    <SheetDescription>
                        This sheet's open state is controlled from the parent component.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4">
                    <p class="text-sm mb-4">
                        Sheet is open: <strong>@isSheetOpen</strong>
                    </p>
                    <p class="text-sm text-muted-foreground">
                        You can programmatically control when this sheet opens and closes.
                    </p>
                </div>

                <SheetFooter>
                    <button @onclick="() => isSheetOpen = false"
                            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        Close
                    </button>
                </SheetFooter>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Without Close Button</h2>
        <p class="text-sm text-muted-foreground">
            Hide the default close button using ShowClose="false".
        </p>

        <Sheet>
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open Sheet</Button>
            </SheetTrigger>

            <SheetContent ShowClose="false">
                <SheetHeader>
                    <SheetTitle>Confirm Action</SheetTitle>
                    <SheetDescription>
                        This sheet doesn't have a close button in the top-right corner.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4">
                    <p class="text-sm text-muted-foreground">
                        You must use one of the action buttons or press Escape to close this sheet.
                    </p>
                </div>

                <SheetFooter>
                    <SheetClose AsChild>
                        <Button Variant="ButtonVariant.Outline">Cancel</Button>
                    </SheetClose>
                    <SheetClose AsChild>
                        <Button>Confirm</Button>
                    </SheetClose>
                </SheetFooter>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Custom Width</h2>
        <p class="text-sm text-muted-foreground">
            Customize the sheet width using the Class parameter.
        </p>

        <Sheet>
            <SheetTrigger AsChild>
                <Button Variant="ButtonVariant.Outline">Open Wide Sheet</Button>
            </SheetTrigger>

            <SheetContent Class="w-[400px] sm:w-[540px]">
                <SheetHeader>
                    <SheetTitle>Wide Sheet</SheetTitle>
                    <SheetDescription>
                        This sheet uses a custom width class.
                    </SheetDescription>
                </SheetHeader>

                <div class="py-4">
                    <p class="text-sm">
                        You can customize the sheet width by passing additional classes to the SheetContent component.
                        This example uses <code class="bg-muted px-1 py-0.5 rounded text-xs">w-[400px] sm:w-[540px]</code>
                        instead of the default <code class="bg-muted px-1 py-0.5 rounded text-xs">w-3/4 sm:max-w-sm</code>.
                    </p>
                </div>
            </SheetContent>
        </Sheet>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Features</h2>
        <ul class="list-disc list-inside space-y-2 text-sm">
            <li>Slides in from any side (top, right, bottom, left)</li>
            <li>Full keyboard navigation support</li>
            <li>Focus is automatically trapped within the sheet</li>
            <li>Can be controlled or uncontrolled</li>
            <li>Manages screen reader announcements with ARIA</li>
            <li>Scroll lock on body when sheet is open</li>
            <li>Smooth slide animations with fade overlay</li>
            <li>Respects prefers-reduced-motion</li>
        </ul>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Installation</h2>

        <div class="space-y-2">
            <p class="text-sm text-muted-foreground">Add the following using statement to your _Imports.razor:</p>
            <div class="bg-muted p-4 rounded-md">
                <code class="text-sm">@@using BlazorBlueprint.Components.Sheet</code>
            </div>
        </div>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Usage</h2>

        <div class="bg-muted p-4 rounded-md">
            <pre class="text-sm overflow-x-auto"><code>&lt;Sheet&gt;
    &lt;SheetTrigger&gt;
        &lt;Button&gt;Open&lt;/Button&gt;
    &lt;/SheetTrigger&gt;
    &lt;SheetContent&gt;
        &lt;SheetHeader&gt;
            &lt;SheetTitle&gt;Edit profile&lt;/SheetTitle&gt;
            &lt;SheetDescription&gt;
                Make changes to your profile here.
            &lt;/SheetDescription&gt;
        &lt;/SheetHeader&gt;
        @* Your content here *@
        &lt;SheetFooter&gt;
            &lt;Button&gt;Save&lt;/Button&gt;
        &lt;/SheetFooter&gt;
    &lt;/SheetContent&gt;
&lt;/Sheet&gt;</code></pre>
        </div>
    </div>

    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Different Sides</h2>

        <div class="bg-muted p-4 rounded-md">
            <pre class="text-sm overflow-x-auto"><code>&lt;Sheet Side="SheetSide.Left"&gt;
    &lt;!-- Content slides in from left --&gt;
&lt;/Sheet&gt;

&lt;Sheet Side="SheetSide.Right"&gt;
    &lt;!-- Content slides in from right (default) --&gt;
&lt;/Sheet&gt;

&lt;Sheet Side="SheetSide.Top"&gt;
    &lt;!-- Content slides in from top --&gt;
&lt;/Sheet&gt;

&lt;Sheet Side="SheetSide.Bottom"&gt;
    &lt;!-- Content slides in from bottom --&gt;
&lt;/Sheet&gt;</code></pre>
        </div>
    </div>
</div>

@code {
    private bool isSheetOpen = false;
}
