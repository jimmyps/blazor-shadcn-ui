@page "/components/rating"
@using BlazorBlueprint.Components.Rating

<PageTitle>Rating Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Rating Component</h1>
            <p class="text-xl text-muted-foreground">
                A customizable rating component with star, heart, or circle icons and half-rating support.
            </p>
        </div>
    </div>

    <!-- Basic Star Rating -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Star Rating</h2>
            <p class="text-sm text-muted-foreground">
                Click to rate, click the same star again to clear.
            </p>
        </div>
        <Rating @bind-Value="_starValue" />
        <p class="text-sm text-muted-foreground">Rating: @_starValue / 5</p>
    </div>

    <!-- Heart Rating -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Heart Rating</h2>
            <p class="text-sm text-muted-foreground">
                Using heart icons instead of stars.
            </p>
        </div>
        <Rating @bind-Value="_heartValue" Icon="RatingIcon.Heart" />
        <p class="text-sm text-muted-foreground">Rating: @_heartValue / 5</p>
    </div>

    <!-- Circle Rating -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Circle Rating</h2>
            <p class="text-sm text-muted-foreground">
                Using circle icons.
            </p>
        </div>
        <Rating @bind-Value="_circleValue" Icon="RatingIcon.Circle" />
        <p class="text-sm text-muted-foreground">Rating: @_circleValue / 5</p>
    </div>

    <!-- Half Rating -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Half Rating Support</h2>
            <p class="text-sm text-muted-foreground">
                Allows half-star ratings for more precision. Use arrow keys for precise control.
            </p>
        </div>
        <Rating @bind-Value="_halfValue" AllowHalf="true" />
        <p class="text-sm text-muted-foreground">Rating: @_halfValue / 5</p>
    </div>

    <!-- Custom Max -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Max (10 Stars)</h2>
            <p class="text-sm text-muted-foreground">
                Rating with 10 stars maximum.
            </p>
        </div>
        <Rating @bind-Value="_maxValue" Max="10" Size="RatingSize.Small" />
        <p class="text-sm text-muted-foreground">Rating: @_maxValue / 10</p>
    </div>

    <!-- Sizes -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Sizes</h2>
            <p class="text-sm text-muted-foreground">
                Small, default, and large icon sizes.
            </p>
        </div>
        <div class="space-y-4">
            <div class="flex items-center gap-4">
                <span class="text-sm text-muted-foreground w-16">Small:</span>
                <Rating @bind-Value="_sizeSmall" Size="RatingSize.Small" />
            </div>
            <div class="flex items-center gap-4">
                <span class="text-sm text-muted-foreground w-16">Default:</span>
                <Rating @bind-Value="_sizeDefault" Size="RatingSize.Default" />
            </div>
            <div class="flex items-center gap-4">
                <span class="text-sm text-muted-foreground w-16">Large:</span>
                <Rating @bind-Value="_sizeLarge" Size="RatingSize.Large" />
            </div>
        </div>
    </div>

    <!-- Read-Only -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Read-Only</h2>
            <p class="text-sm text-muted-foreground">
                Display-only rating (cannot be changed).
            </p>
        </div>
        <div class="space-y-2">
            <div class="flex items-center gap-2">
                <Rating Value="4" ReadOnly="true" />
                <span class="text-sm text-muted-foreground">4.0</span>
            </div>
            <div class="flex items-center gap-2">
                <Rating Value="3.5" ReadOnly="true" AllowHalf="true" />
                <span class="text-sm text-muted-foreground">3.5</span>
            </div>
            <div class="flex items-center gap-2">
                <Rating Value="2" ReadOnly="true" Icon="RatingIcon.Heart" />
                <span class="text-sm text-muted-foreground">2.0</span>
            </div>
        </div>
    </div>

    <!-- No Clear -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disable Clear</h2>
            <p class="text-sm text-muted-foreground">
                Cannot clear the rating once set (minimum 1 star).
            </p>
        </div>
        <Rating @bind-Value="_noClearValue" AllowClear="false" />
        <p class="text-sm text-muted-foreground">Rating: @_noClearValue / 5</p>
    </div>

    <!-- Disabled -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disabled</h2>
            <p class="text-sm text-muted-foreground">
                A disabled rating component.
            </p>
        </div>
        <Rating Value="3" Disabled="true" />
    </div>

    <!-- Keyboard Navigation -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Keyboard Navigation</h2>
            <p class="text-sm text-muted-foreground">
                Focus the rating and use keyboard to navigate.
            </p>
        </div>
        <Rating @bind-Value="_keyboardValue" AllowHalf="true" />
        <p class="text-sm text-muted-foreground">
            Value: @_keyboardValue - Use Arrow keys, number keys (1-5), Home/End
        </p>
    </div>

    <!-- API Reference -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
        </div>
        <div class="border rounded-lg p-6 space-y-4">
            <div>
                <h3 class="font-mono text-sm font-semibold mb-2">Rating Parameters</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>Value:</strong> <code class="bg-muted px-1 py-0.5 rounded">double</code> - Current rating value</p>
                    <p><strong>Max:</strong> <code class="bg-muted px-1 py-0.5 rounded">int</code> - Maximum rating. Default: 5</p>
                    <p><strong>AllowHalf:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Enable half ratings. Default: false</p>
                    <p><strong>AllowClear:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Allow clearing by clicking same value. Default: true</p>
                    <p><strong>ReadOnly:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Display-only mode. Default: false</p>
                    <p><strong>Disabled:</strong> <code class="bg-muted px-1 py-0.5 rounded">bool</code> - Disables the rating. Default: false</p>
                    <p><strong>Icon:</strong> <code class="bg-muted px-1 py-0.5 rounded">RatingIcon</code> - Icon type (Star, Heart, Circle). Default: Star</p>
                    <p><strong>Size:</strong> <code class="bg-muted px-1 py-0.5 rounded">RatingSize</code> - Icon size (Small, Default, Large). Default: Default</p>
                    <p><strong>ActiveColor:</strong> <code class="bg-muted px-1 py-0.5 rounded">string?</code> - Custom color for filled icons</p>
                    <p><strong>InactiveColor:</strong> <code class="bg-muted px-1 py-0.5 rounded">string?</code> - Custom color for empty icons</p>
                    <p><strong>IconTemplate:</strong> <code class="bg-muted px-1 py-0.5 rounded">RenderFragment&lt;RatingIconContext&gt;?</code> - Custom icon template</p>
                </div>
            </div>
            <div>
                <h3 class="font-mono text-sm font-semibold mb-2">Keyboard Navigation</h3>
                <div class="space-y-2 text-sm">
                    <p><strong>Arrow Right/Up:</strong> Increase rating</p>
                    <p><strong>Arrow Left/Down:</strong> Decrease rating</p>
                    <p><strong>Home:</strong> Clear rating (if AllowClear)</p>
                    <p><strong>End:</strong> Set to maximum</p>
                    <p><strong>1-9:</strong> Set specific rating value</p>
                    <p><strong>0:</strong> Clear rating (if AllowClear)</p>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private double _starValue = 0;
    private double _heartValue = 0;
    private double _circleValue = 0;
    private double _halfValue = 0;
    private double _maxValue = 7;
    private double _sizeSmall = 3;
    private double _sizeDefault = 3;
    private double _sizeLarge = 3;
    private double _noClearValue = 1;
    private double _keyboardValue = 2.5;
}
