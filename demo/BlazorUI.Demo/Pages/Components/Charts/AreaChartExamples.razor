@using BlazorUI.Components.Chart
@using BlazorUI.Components.Card

<div class="space-y-8">
    <!-- Area Chart - Default with Gradient -->
    <div class="space-y-4">
        <div>
            <h3 class="text-lg font-semibold">Area Chart</h3>
            <p class="text-sm text-muted-foreground">Showing total visitors for the last 6 months</p>
        </div>
        
        <ChartPanel>
            <ChartPanelHeader>
                <ChartPanelTitle>Area Chart</ChartPanelTitle>
                <ChartPanelDescription>January - June 2024</ChartPanelDescription>
            </ChartPanelHeader>
            <ChartPanelContent>
                <EChart Option="@gradientAreaOption" Height="300" />
            </ChartPanelContent>
            <ChartPanelFooter>
                <div class="flex gap-2 font-medium leading-none">
                    Trending up by 5.2% this month <span class="ml-1">ðŸ“ˆ</span>
                </div>
                <div class="leading-none text-muted-foreground">
                    Gradient fill from 80% to 10% opacity
                </div>
            </ChartPanelFooter>
        </ChartPanel>
    </div>

    <!-- Area Chart - Linear -->
    <div class="space-y-4">
        <div>
            <h3 class="text-lg font-semibold">Linear</h3>
            <p class="text-sm text-muted-foreground">An area chart with straight lines</p>
        </div>
        
        <ChartPanel>
            <ChartPanelHeader>
                <ChartPanelTitle>Area Chart - Linear</ChartPanelTitle>
                <ChartPanelDescription>January - June 2024</ChartPanelDescription>
            </ChartPanelHeader>
            <ChartPanelContent>
                <LineChart Data="@desktopData" 
                          XAxisDataKey="Month"
                          YAxisDataKey="Desktop"
                          Label="Desktop"
                          Height="300"
                          FillArea="true"
                          Curved="false"
                          LineColor="hsl(var(--chart-2))" />
            </ChartPanelContent>
            <ChartPanelFooter>
                <div class="flex w-full items-start gap-2 text-sm">
                    <div class="grid gap-2">
                        <div class="flex items-center gap-2 font-medium leading-none">
                            Trending up by 5.2% this month <span class="ml-1">ðŸ“ˆ</span>
                        </div>
                        <div class="flex items-center gap-2 leading-none text-muted-foreground">
                            January - June 2024
                        </div>
                    </div>
                </div>
            </ChartPanelFooter>
        </ChartPanel>
    </div>

    <!-- Area Chart - Stacked with Gradients -->
    <div class="space-y-4">
        <div>
            <h3 class="text-lg font-semibold">Stacked</h3>
            <p class="text-sm text-muted-foreground">An area chart with multiple series stacked</p>
        </div>
        
        <ChartPanel>
            <ChartPanelHeader>
                <ChartPanelTitle>Area Chart - Stacked</ChartPanelTitle>
                <ChartPanelDescription>Showing total visitors for the last 6 months</ChartPanelDescription>
            </ChartPanelHeader>
            <ChartPanelContent>
                <EChart Option="@stackedGradientOption" Height="300" />
            </ChartPanelContent>
            <ChartPanelFooter>
                <div class="flex w-full items-start gap-2 text-sm">
                    <div class="grid gap-2">
                        <div class="flex items-center gap-2 font-medium leading-none">
                            Trending up by 12.5% this month <span class="ml-1">ðŸ“ˆ</span>
                        </div>
                        <div class="flex items-center gap-2 leading-none text-muted-foreground">
                            January - June 2024
                        </div>
                    </div>
                </div>
            </ChartPanelFooter>
        </ChartPanel>
    </div>

    <!-- Area Chart - Icons -->
    <div class="space-y-4">
        <div>
            <h3 class="text-lg font-semibold">Icons</h3>
            <p class="text-sm text-muted-foreground">An area chart with icons in the legend</p>
        </div>
        
        <ChartPanel>
            <ChartPanelHeader>
                <ChartPanelTitle>Area Chart - Interactive</ChartPanelTitle>
                <ChartPanelDescription>
                    Showing total visitors for the last 6 months
                </ChartPanelDescription>
            </ChartPanelHeader>
            <ChartPanelContent>
                <MultiSeriesLineChart Data="@stackedData"
                                     XAxisDataKey="Month"
                                     Series="@iconsSeriesArea"
                                     Height="300"
                                      />
            </ChartPanelContent>
            <ChartPanelFooter>
                <div class="flex w-full items-start gap-2 text-sm">
                    <div class="grid gap-2">
                        <div class="flex items-center gap-2 leading-none text-muted-foreground">
                            January - June 2024
                        </div>
                    </div>
                </div>
            </ChartPanelFooter>
        </ChartPanel>
    </div>
</div>

@code {
    // Gradient Area Chart Option (ECharts native)
    private object gradientAreaOption = new
    {
        tooltip = new { trigger = "axis", axisPointer = new { type = "cross" } },
        xAxis = new
        {
            type = "category",
            boundaryGap = false,
            data = new[] { "January", "February", "March", "April", "May", "June" }
        },
        yAxis = new { type = "value" },
        series = new[]
        {
            new
            {
                name = "Desktop",
                type = "line",
                smooth = true,
                data = new[] { 186, 305, 237, 73, 209, 214 },
                lineStyle = new { width = 2, color = "hsl(var(--chart-1))" },
                areaStyle = new
                {
                    color = new
                    {
                        type = "linear",
                        x = 0, y = 0, x2 = 0, y2 = 1,
                        colorStops = new[]
                        {
                            new { offset = 0.0, color = "hsla(var(--chart-1), 0.8)" },
                            new { offset = 1.0, color = "hsla(var(--chart-1), 0.1)" }
                        }
                    }
                },
                showSymbol = false
            }
        }
    };

    // Stacked Gradient Option
    private object stackedGradientOption = new
    {
        tooltip = new { trigger = "axis" },
        legend = new { data = new[] { "Desktop", "Mobile" }, top = "top", left = "center" },
        xAxis = new
        {
            type = "category",
            boundaryGap = false,
            data = new[] { "January", "February", "March", "April", "May", "June" }
        },
        yAxis = new { type = "value" },
        series = new[]
        {
            new
            {
                name = "Desktop",
                type = "line",
                stack = "Total",
                smooth = true,
                data = new[] { 186, 305, 237, 73, 209, 214 },
                lineStyle = new { width = 2, color = "hsl(var(--chart-1))" },
                areaStyle = new
                {
                    color = new
                    {
                        type = "linear",
                        x = 0, y = 0, x2 = 0, y2 = 1,
                        colorStops = new[]
                        {
                            new { offset = 0.0, color = "hsla(var(--chart-1), 0.8)" },
                            new { offset = 1.0, color = "hsla(var(--chart-1), 0.1)" }
                        }
                    }
                },
                showSymbol = false
            },
            new
            {
                name = "Mobile",
                type = "line",
                stack = "Total",
                smooth = true,
                data = new[] { 80, 200, 120, 190, 130, 140 },
                lineStyle = new { width = 2, color = "hsl(var(--chart-2))" },
                areaStyle = new
                {
                    color = new
                    {
                        type = "linear",
                        x = 0, y = 0, x2 = 0, y2 = 1,
                        colorStops = new[]
                        {
                            new { offset = 0.0, color = "hsla(var(--chart-2), 0.8)" },
                            new { offset = 1.0, color = "hsla(var(--chart-2), 0.1)" }
                        }
                    }
                },
                showSymbol = false
            }
        }
    };

    private readonly List<DesktopData> desktopData = new()
    {
        new() { Month = "January", Desktop = 186 },
        new() { Month = "February", Desktop = 305 },
        new() { Month = "March", Desktop = 237 },
        new() { Month = "April", Desktop = 73 },
        new() { Month = "May", Desktop = 209 },
        new() { Month = "June", Desktop = 214 }
    };

    private readonly List<StackedData> stackedData = new()
    {
        new() { Month = "January", Desktop = 186, Mobile = 80 },
        new() { Month = "February", Desktop = 305, Mobile = 200 },
        new() { Month = "March", Desktop = 237, Mobile = 120 },
        new() { Month = "April", Desktop = 73, Mobile = 190 },
        new() { Month = "May", Desktop = 209, Mobile = 130 },
        new() { Month = "June", Desktop = 214, Mobile = 140 }
    };

    private readonly List<ChartSeriesConfig> stackedSeries = new()
    {
        new() { DataKey = "Desktop", Label = "Desktop", Color = "hsl(var(--chart-1))", FillArea = true, Curved = true },
        new() { DataKey = "Mobile", Label = "Mobile", Color = "hsl(var(--chart-2))", FillArea = true, Curved = true }
    };

    private readonly List<ChartSeriesConfig> iconsSeriesArea = new()
    {
        new() { DataKey = "Desktop", Label = "ðŸ’» Desktop", Color = "hsl(var(--chart-1))", FillArea = true, Curved = true },
        new() { DataKey = "Mobile", Label = "ðŸ“± Mobile", Color = "hsl(var(--chart-2))", FillArea = true, Curved = true }
    };

    public class DesktopData
    {
        public string Month { get; set; } = string.Empty;
        public int Desktop { get; set; }
    }

    public class StackedData
    {
        public string Month { get; set; } = string.Empty;
        public int Desktop { get; set; }
        public int Mobile { get; set; }
    }
}
