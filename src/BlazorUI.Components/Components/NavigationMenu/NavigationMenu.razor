@namespace BlazorUI.Components.NavigationMenu
@using BlazorUI.Primitives.NavigationMenu

@* NavigationMenu - styled navigation menu wrapper *@
<NavigationMenuRoot Value="@Value"
                    ValueChanged="ValueChanged"
                    Orientation="@Orientation"
                    AriaLabel="@AriaLabel"
                    class="@GetClass()"
                    @attributes="AdditionalAttributes">
    @ChildContent
</NavigationMenuRoot>

@code {
    /// <summary>
    /// The child content to render within the navigation menu.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Controls which item is active/open.
    /// </summary>
    [Parameter]
    public string? Value { get; set; }

    /// <summary>
    /// Event callback invoked when the active item changes.
    /// </summary>
    [Parameter]
    public EventCallback<string> ValueChanged { get; set; }

    /// <summary>
    /// The orientation of the navigation menu.
    /// </summary>
    [Parameter]
    public NavigationMenuOrientation Orientation { get; set; } = NavigationMenuOrientation.Horizontal;

    /// <summary>
    /// The accessible label for the navigation.
    /// </summary>
    [Parameter]
    public string AriaLabel { get; set; } = "Main";

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }

    /// <summary>
    /// Additional attributes to apply.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string GetClass()
    {
        var baseClass = "flex max-w-max flex-1 items-center justify-center";
        return string.IsNullOrEmpty(Class) ? baseClass : $"{baseClass} {Class}";
    }
}
