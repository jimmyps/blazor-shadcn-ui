@namespace BlazorUI.Components.Checkbox
@using BlazorUI.Primitives.Checkbox

<BlazorUI.Primitives.Checkbox.Checkbox
    Id="@Id"
    Checked="@Checked"
    CheckedChanged="@HandleCheckedChanged"
    Indeterminate="@Indeterminate"
    IndeterminateChanged="@IndeterminateChanged"
    Disabled="@Disabled"
    AriaLabel="@AriaLabel"
    class="@CssClass"
    aria-required="@(Required || CheckedExpression != null ? "true" : null)"
    aria-invalid="@(IsInvalid ? "true" : null)">
    @if (Checked)
    {
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="2"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="text-current">
            <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
    }
    else if (Indeterminate)
    {
        <svg xmlns="http://www.w3.org/2000/svg"
             width="16"
             height="16"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="2"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="text-current">
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
    }
</BlazorUI.Primitives.Checkbox.Checkbox>

@* Hidden input for form submission *@
@if (!string.IsNullOrEmpty(EffectiveName))
{
    <input type="hidden" name="@EffectiveName" value="@(Checked ? "true" : "false")" />
}
