@namespace BlazorUI.Components.Chart

@code {
    /// <summary>
    /// Gets or sets the parent LinearGradient component.
    /// </summary>
    [CascadingParameter]
    public LinearGradient? ParentGradient { get; set; }
    
    /// <summary>
    /// Gets or sets the position of the color stop (0.0 to 1.0).
    /// </summary>
    [Parameter]
    public double Offset { get; set; }
    
    /// <summary>
    /// Gets or sets the color at this stop. Supports CSS variables like "hsla(var(--chart-1), 0.8)".
    /// </summary>
    [Parameter]
    public string Color { get; set; } = string.Empty;
    
    protected override void OnInitialized()
    {
        if (ParentGradient == null)
        {
            throw new InvalidOperationException("ColorStop must be used within a LinearGradient component");
        }
        
        ParentGradient.RegisterColorStop(new ColorStopConfig
        {
            Offset = Offset,
            Color = Color
        });
    }
}
