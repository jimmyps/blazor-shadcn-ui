@namespace BlazorUI.Components.Chart

@code {
    [CascadingParameter] private dynamic? Parent { get; set; }
    
    /// <summary>
    /// Gets or sets whether to show the legend.
    /// </summary>
    [Parameter]
    public bool Show { get; set; } = true;
    
    /// <summary>
    /// Gets or sets the legend layout orientation.
    /// </summary>
    [Parameter]
    public LegendLayout Layout { get; set; } = LegendLayout.Horizontal;
    
    /// <summary>
    /// Gets or sets the horizontal alignment of the legend.
    /// </summary>
    [Parameter]
    public LegendAlign Align { get; set; } = LegendAlign.Center;
    
    /// <summary>
    /// Gets or sets the vertical alignment of the legend.
    /// </summary>
    [Parameter]
    public LegendVerticalAlign VerticalAlign { get; set; } = LegendVerticalAlign.Top;
    
    /// <summary>
    /// Gets or sets the top margin in pixels (applies only when VerticalAlign is Top).
    /// </summary>
    [Parameter]
    public int MarginTop { get; set; } = 0;
    
    /// <summary>
    /// Gets or sets the icon type for legend items.
    /// Maps to ECharts legend.icon property.
    /// </summary>
    [Parameter]
    public LegendIcon Icon { get; set; } = LegendIcon.Circle;
    
    protected override void OnInitialized()
    {
        if (Parent != null)
        {
            try { Parent.RegisterLegend(this); } catch { }
        }
    }
}
