@namespace BlazorUI.Components.Old.Chart
@using BlazorUI.Components.Utilities

<div class="@ContainerClass" style="height: @(Height)px; width: 100%;">
    <div class="flex flex-col gap-2 h-full justify-end p-4">
        @for (int i = 0; i < BarCount; i++)
        {
            var heightPercent = Random.Shared.Next(30, 100);
            <div class="bg-muted animate-pulse rounded" style="height: @(heightPercent)%; transition: height 0.3s ease;"></div>
        }
    </div>
</div>

@code {
    /// <summary>
    /// Gets or sets the height of the skeleton in pixels.
    /// </summary>
    [Parameter]
    public int Height { get; set; } = 350;
    
    /// <summary>
    /// Gets or sets the number of skeleton bars to display.
    /// </summary>
    [Parameter]
    public int BarCount { get; set; } = 8;
    
    /// <summary>
    /// Gets or sets additional CSS classes.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }
    
    /// <summary>
    /// Gets the computed CSS classes for the container.
    /// </summary>
    private string ContainerClass => ClassNames.cn(
        "chart-skeleton",
        Class
    );
}
