@namespace BlazorUI.Components.Toast
@using BlazorUI.Components.Utilities

@* ToastClose - close button for a toast *@
<button type="button" @onclick="HandleClick" class="@GetClass()" aria-label="Close">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 6 6 18"></path>
        <path d="m6 6 12 12"></path>
    </svg>
</button>

@code {
    /// <summary>
    /// Callback when the button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnClick { get; set; }

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }

    private async Task HandleClick()
    {
        await OnClick.InvokeAsync();
    }

    private string GetClass() =>
        ClassNames.cn(
            // Base styles
            "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity",
            // Interaction states
            "hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100",
            // Destructive variant styles
            "group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50",
            "group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
            Class
        );
}
