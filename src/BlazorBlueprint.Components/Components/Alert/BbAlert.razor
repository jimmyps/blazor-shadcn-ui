@namespace BlazorBlueprint.Components

<div role="alert" class="@CssClass"
     @onmouseenter="HandleMouseEnter"
     @onmouseleave="HandleMouseLeave">
    @Icon
    <div>
        @ChildContent
        @if (Actions != null)
        {
            <div class="mt-3 flex items-center gap-2">
                @Actions
            </div>
        }
    </div>
    @if (Dismissible)
    {
        <button type="button"
                class="absolute right-3 top-3 rounded-md p-0.5 opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring"
                aria-label="Dismiss"
                @onclick="HandleDismiss">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6 6 18"></path>
                <path d="m6 6 12 12"></path>
            </svg>
        </button>
    }
    @if (ShowCountdown && AutoDismissAfter.HasValue)
    {
        <div class="absolute bottom-0 left-0 right-0 h-0.5 bg-current/20 overflow-hidden">
            <div class="h-full bg-current/40"
                 style="animation: bb-alert-countdown @(AutoDismissAfter.Value)ms linear forwards; animation-play-state: @(isPaused ? "paused" : "running");"></div>
        </div>
    }
</div>
