# Sidebar Component

Responsive navigation sidebar with collapsible menus, keyboard shortcuts, and mobile support.

---

## Overview

The Sidebar component provides a responsive navigation sidebar with collapsible icon mode, multiple variants, keyboard shortcuts (Ctrl/Cmd+B), and mobile sheet integration.

**Features:**
- Collapsible icon mode
- Keyboard shortcut toggle (Ctrl/Cmd+B)
- Mobile sheet integration
- Multiple variants (default, floating, inset)
- Nested menu groups
- Cookie-based state persistence
- Dark mode compatible

---

## Package

- **Package:** BlazorUI.Components
- **Namespace:** BlazorUI.Components.Sidebar
- **Source:** https://github.com/blazorui-net/ui/tree/main/src/BlazorUI.Components/Components/Sidebar

---

## Required CSS Variables

The Sidebar component requires the following CSS variables to be defined in your theme:

```css
:root {
  /* Sidebar Colors */
  --sidebar-background: oklch(1 0 0);                    /* Sidebar background color */
  --sidebar-foreground: oklch(0.1450 0 0);              /* Sidebar text color */
  --sidebar-primary: oklch(0.2050 0 0);                 /* Primary accent color */
  --sidebar-primary-foreground: oklch(0.9850 0 0);      /* Primary text color */
  --sidebar-accent: oklch(0.9700 0 0);                  /* Accent/hover background */
  --sidebar-accent-foreground: oklch(0.2050 0 0);       /* Accent text color */
  --sidebar-border: oklch(0.9220 0 0);                  /* Border color */
  --sidebar-ring: oklch(0.7080 0 0);                    /* Focus ring color */

  /* Sidebar Dimensions */
  --sidebar-width: 16rem;                                /* Full sidebar width */
  --sidebar-width-icon: 3rem;                            /* Collapsed icon-only width */
}

.dark {
  /* Dark mode sidebar colors */
  --sidebar-background: oklch(0.2050 0 0);
  --sidebar-foreground: oklch(0.9850 0 0);
  --sidebar-primary: oklch(0.9220 0 0);
  --sidebar-primary-foreground: oklch(0.2050 0 0);
  --sidebar-accent: oklch(0.3710 0 0);
  --sidebar-accent-foreground: oklch(0.9850 0 0);
  --sidebar-border: oklch(0.2750 0 0);
  --sidebar-ring: oklch(0.5560 0 0);
  --sidebar-width: 16rem;
  --sidebar-width-icon: 3rem;
}
```

**For Tailwind v4 Integration:**
```css
@theme inline {
  --color-sidebar-background: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}
```

**⚠️ Important:** If these variables are not defined, the sidebar will not display correctly. The sidebar may appear hidden even on desktop viewports.

---

## API Reference

### Main Components

- `<SidebarProvider>` - Context provider
- `<Sidebar>` - Sidebar container
- `<SidebarHeader>` - Header section
- `<SidebarContent>` - Main content area
- `<SidebarFooter>` - Footer section
- `<SidebarInset>` - Main page content area
- `<SidebarTrigger>` - Toggle button

### Menu Components

- `<SidebarMenu>` - Menu container
- `<SidebarMenuItem>` - Menu item
- `<SidebarMenuButton>` - Clickable menu item
- `<SidebarMenuGroup>` - Collapsible menu group
- `<SidebarMenuGroupLabel>` - Group label

### SidebarProvider Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `Variant` | `SidebarVariant` | `Sidebar` | Visual style variant |
| `Side` | `SidebarSide` | `Left` | Which side the sidebar appears on |
| `DefaultOpen` | `bool` | `true` | Initial open state (desktop) |
| `Collapsible` | `bool` | `false` | Enable collapsible icon mode |
| `CookieKey` | `string?` | `null` | Cookie key for state persistence |
| `HeightClass` | `string` | `"h-svh"` | Height CSS class |

### SidebarVariant Enum

```csharp
public enum SidebarVariant
{
    Sidebar,   // Default - sidebar pushes content, fixed position, border-right
    Floating,  // Overlays content, elevated shadow, rounded corners, margins
    Inset      // Sits within layout, relative positioning, minimal styling
}
```

**Variant Descriptions:**

- **`Sidebar` (Default):** Fixed-position sidebar with border-right. Pushes main content to the side. Best for traditional application layouts.

- **`Floating`:** Elevated sidebar with shadow, rounded corners, and margins. Overlays content with visual separation. Best for modern, card-based layouts.

- **`Inset`:** Minimal styling, relative positioning. Sits naturally within the flex layout. The `SidebarInset` component adds rounded corners, shadow, and margin to the content area. Best for dashboard-style layouts.

**Example Usage:**
```razor
<!-- Default variant -->
<SidebarProvider>
    <!-- ... -->
</SidebarProvider>

<!-- Floating variant -->
<SidebarProvider Variant="SidebarVariant.Floating">
    <!-- ... -->
</SidebarProvider>

<!-- Inset variant -->
<SidebarProvider Variant="SidebarVariant.Inset">
    <div class="flex h-full w-full">
        <Sidebar><!-- ... --></Sidebar>
        <SidebarInset><!-- Main content --></SidebarInset>
    </div>
</SidebarProvider>
```

---

## Basic Usage

```razor
<SidebarProvider>
    <Sidebar>
        <SidebarHeader>
            <SidebarHeaderContent>App Name</SidebarHeaderContent>
        </SidebarHeader>

        <SidebarContent>
            <SidebarMenu>
                <SidebarMenuItem>
                    <SidebarMenuButton Href="/" Match="NavLinkMatch.All">
                        <LucideIcon Name="house" Size="16" />
                        <span>Home</span>
                    </SidebarMenuButton>
                </SidebarMenuItem>

                <SidebarMenuItem>
                    <SidebarMenuButton Href="/settings" Match="NavLinkMatch.All">
                        <LucideIcon Name="settings" Size="16" />
                        <span>Settings</span>
                    </SidebarMenuButton>
                </SidebarMenuItem>
            </SidebarMenu>
        </SidebarContent>
    </Sidebar>

    <SidebarInset>
        <main>
            @Body
        </main>
    </SidebarInset>
</SidebarProvider>
```

---

## Navigation

### SidebarMenuButton Navigation

The `SidebarMenuButton` component automatically detects when you want to use it for navigation:

**Simple Navigation (Recommended):**
```razor
<SidebarMenuButton Href="/dashboard">
    <LucideIcon Name="layout-dashboard" Size="16" />
    <span>Dashboard</span>
</SidebarMenuButton>
```

When you provide an `Href` property, the component automatically renders as a Blazor `NavLink` instead of a button. This enables:
- ✅ Proper navigation behavior
- ✅ Automatic active state detection
- ✅ Browser history integration
- ✅ No need to set `AsChild` parameter

**Controlling Active State Matching:**

Use the `Match` parameter to control how URLs are matched for active state:

```razor
<!-- Exact match - only active when URL is exactly "/" -->
<SidebarMenuButton Href="/" Match="NavLinkMatch.All">
    <span>Home</span>
</SidebarMenuButton>

<!-- Prefix match (default) - active when URL starts with "/settings" -->
<SidebarMenuButton Href="/settings" Match="NavLinkMatch.Prefix">
    <span>Settings</span>
</SidebarMenuButton>
```

**Action Buttons (No Navigation):**

If you need a button that performs an action instead of navigating, simply omit the `Href`:

```razor
<SidebarMenuButton @onclick="HandleClick">
    <LucideIcon Name="log-out" Size="16" />
    <span>Logout</span>
</SidebarMenuButton>
```

### SidebarMenuSubButton Navigation

The same auto-detection works for submenu buttons:

```razor
<SidebarMenuSub>
    <SidebarMenuSubItem>
        <SidebarMenuSubButton Href="/projects/active">
            <span>Active Projects</span>
        </SidebarMenuSubButton>
    </SidebarMenuSubItem>
</SidebarMenuSub>
```

### Advanced: Explicit AsChild Control

In rare cases where you need to force button behavior even with an Href (not recommended), you can explicitly set `AsChild`:

```razor
<!-- Forces button rendering even though Href is provided -->
<SidebarMenuButton Href="/somewhere" AsChild="SidebarMenuButtonElement.Button">
    <span>This won't navigate</span>
</SidebarMenuButton>
```

---

## Examples

See **llms/patterns.txt** - Sidebar Navigation for complete examples.

---

## Keyboard Shortcuts

- **Ctrl/Cmd+B**: Toggle sidebar

---

## Related Components

- **Button** - llms/components/button.txt
- **Sheet** - llms/components/sheet.txt

## Related Patterns

- **Sidebar Navigation** - llms/patterns.txt

---

**Last Updated:** 2025-11-18
